{"version":3,"file":"decomposeKeys.cjs","sources":["../src/decomposeKeys.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { DELIMITER } from './constants/strings';\nimport { isPrimitive } from './helpers';\nimport { sortMap } from './sortMap';\nimport type { KeysMatching, Ru } from './types';\n\nfunction ddecomposeKeys(val: any, prev = '', addObjectKeys = true) {\n  const _prev = prev ? prev + DELIMITER : '';\n  const output: string[] = [];\n  const entries1 = Object.entries(val);\n  entries1.forEach(([key, value]) => {\n    const isPrimit = isPrimitive(value);\n    if (!isPrimit) {\n      if (addObjectKeys) output.push(`${_prev}${key}`);\n      const values = ddecomposeKeys(\n        value,\n        `${_prev}${key}`,\n        addObjectKeys,\n      );\n      output.push(...values);\n    } else output.push(`${_prev}${key}`);\n  });\n  return output;\n}\n\nexport function decomposeKeys<\n  T extends Ru,\n  AddObjectKeys extends boolean = true,\n>(val: T, sorter = sortMap, addObjectKeys?: AddObjectKeys) {\n  const output1 = ddecomposeKeys(val, '', addObjectKeys);\n  output1.sort(sorter);\n  const regex = new RegExp(DELIMITER, 'g');\n  const output2 = output1.map(value => value.replace(regex, '.'));\n\n  return output2 as KeysMatching<T, true>[];\n}\n"],"names":["DELIMITER","isPrimitive","sortMap"],"mappings":";;;;;;AAAA;AAMA,SAAS,cAAc,CAAC,GAAQ,EAAE,IAAI,GAAG,EAAE,EAAE,aAAa,GAAG,IAAI,EAAA;AAC/D,IAAA,MAAM,KAAK,GAAG,IAAI,GAAG,IAAI,GAAGA,2BAAS,GAAG,EAAE,CAAC;IAC3C,MAAM,MAAM,GAAa,EAAE,CAAC;IAC5B,MAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACrC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,KAAI;AAChC,QAAA,MAAM,QAAQ,GAAGC,mBAAW,CAAC,KAAK,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,EAAE;AACb,YAAA,IAAI,aAAa;gBAAE,MAAM,CAAC,IAAI,CAAC,CAAA,EAAG,KAAK,CAAG,EAAA,GAAG,CAAE,CAAA,CAAC,CAAC;AACjD,YAAA,MAAM,MAAM,GAAG,cAAc,CAC3B,KAAK,EACL,CAAA,EAAG,KAAK,CAAA,EAAG,GAAG,CAAA,CAAE,EAChB,aAAa,CACd,CAAC;AACF,YAAA,MAAM,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC;SACxB;;YAAM,MAAM,CAAC,IAAI,CAAC,CAAA,EAAG,KAAK,CAAG,EAAA,GAAG,CAAE,CAAA,CAAC,CAAC;AACvC,KAAC,CAAC,CAAC;AACH,IAAA,OAAO,MAAM,CAAC;AAChB,CAAC;AAEK,SAAU,aAAa,CAG3B,GAAM,EAAE,MAAM,GAAGC,eAAO,EAAE,aAA6B,EAAA;IACvD,MAAM,OAAO,GAAG,cAAc,CAAC,GAAG,EAAE,EAAE,EAAE,aAAa,CAAC,CAAC;AACvD,IAAA,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACrB,MAAM,KAAK,GAAG,IAAI,MAAM,CAACF,2BAAS,EAAE,GAAG,CAAC,CAAC;AACzC,IAAA,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;AAEhE,IAAA,OAAO,OAAkC,CAAC;AAC5C;;;;"}