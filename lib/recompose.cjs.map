{"version":3,"file":"recompose.cjs","sources":["../src/recompose.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { merge } from 'ts-deepmerge';\nimport { SEPARATOR } from './constants/strings';\nimport type { Recompose, Ru } from './types';\n\nexport function recomposeObjectUrl<T>(shape: string, value: T) {\n  const obj: Ru = {};\n  if (shape.length <= 0) return obj;\n\n  const keys = shape.split(SEPARATOR);\n  if (keys.length === 1) {\n    const key = keys.shift();\n    obj[key!] = value;\n  } else {\n    const key = keys.shift();\n    obj[key!] = recomposeObjectUrl(keys.join(SEPARATOR), value);\n  }\n\n  return obj;\n}\n\n/**\n *  Recompose a flatten object \n *  @example\n * \n *  { 'data.age': 10, 'human.login': 'login' }\n *  will become\n *  {\n      data: {\n        age: 10,\n      },\n      human: {\n        login: 'login',\n      },\n    }\n *  @remark   \n *  The generated typescript type takes too much ressources\n\n *  @todo\n    Add type to the return\n */\nexport function recompose<T extends Ru>(shape: T) {\n  const entries = Object.entries(shape);\n  const arr: any[] = [];\n  entries.forEach(([key, value]) => {\n    arr.push(recomposeObjectUrl(key, value));\n  });\n  /**\n   * @todo\n   * Add a return type\n   */\n  const output = merge(...arr);\n  return output as Recompose<T>;\n}\n"],"names":["SEPARATOR","merge"],"mappings":";;;;;AAAA;AAKgB,SAAA,kBAAkB,CAAI,KAAa,EAAE,KAAQ,EAAA;IAC3D,MAAM,GAAG,GAAO,EAAE,CAAC;AACnB,IAAA,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC;AAAE,QAAA,OAAO,GAAG,CAAC;IAElC,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAACA,2BAAS,CAAC,CAAC;AACpC,IAAA,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACrB,QAAA,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;AACzB,QAAA,GAAG,CAAC,GAAI,CAAC,GAAG,KAAK,CAAC;KACnB;SAAM;AACL,QAAA,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;AACzB,QAAA,GAAG,CAAC,GAAI,CAAC,GAAG,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAACA,2BAAS,CAAC,EAAE,KAAK,CAAC,CAAC;KAC7D;AAED,IAAA,OAAO,GAAG,CAAC;AACb,CAAC;AAED;;;;;;;;;;;;;;;;;;;AAmBG;AACG,SAAU,SAAS,CAAe,KAAQ,EAAA;IAC9C,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACtC,MAAM,GAAG,GAAU,EAAE,CAAC;IACtB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,KAAI;QAC/B,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC;AAC3C,KAAC,CAAC,CAAC;AACH;;;AAGG;AACH,IAAA,MAAM,MAAM,GAAGC,iBAAK,CAAC,GAAG,GAAG,CAAC,CAAC;AAC7B,IAAA,OAAO,MAAsB,CAAC;AAChC;;;;;"}